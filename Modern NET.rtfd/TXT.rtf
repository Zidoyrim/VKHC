{\rtf1\ansi\ansicpg1252\cocoartf2761
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\froman\fcharset0 Times-Bold;\f1\froman\fcharset0 Times-Roman;\f2\froman\fcharset0 TimesNewRomanPS-BoldMT;
\f3\froman\fcharset0 TimesNewRomanPSMT;\f4\ftech\fcharset0 Wingdings-Regular;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\sa213\partightenfactor0

\f0\b\fs29\fsmilli14667 \cf0 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Prac 1
\f1\b0 \
\pard\pardeftab720\sa213\qc\partightenfactor0

\f2\b\fs37\fsmilli18667 \cf0 Aim:- Configure IP SLA Tracking and Path Control
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0
\cf0 {{\NeXTGraphic Attachment.png \width320 \height320 \appleattachmentpadding0 \appleembedtype0 \appleaqc
}¬}\pard\pardeftab720\sa213\partightenfactor0
\cf0 \'a0\
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 1:- Configure loopbacks and assign addresses.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 description R1 LAN
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.1.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 description R1 
\f4 \'e0
\f3 \'a0ISP1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 209.165.201.2 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 128000
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 128
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 description R1 
\f4 \'e0
\f3 \'a0ISP2
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 209.165.202.130 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 128
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname ISP1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 hostname ISP1
\f1\fs29\fsmilli14667 \

\f3\fs32 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 description Simulated Internet Web Server
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 209.165.200.254 255.255.255.255
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface Loopback1
\f1\fs29\fsmilli14667 \

\f3\fs32 description ISP1 DNS Server
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 209.165.201.30 255.255.255.255
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 description ISP1 
\f4 \'e0
\f3 \'a0R1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 209.165.201.1 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 128
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 description ISP1 
\f4 \'e0
\f3 \'a0ISP2
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 209.165.200.225 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 128000
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 128
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname ISP2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 hostname ISP2
\f1\fs29\fsmilli14667 \

\f3\fs32 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 description Simulated Internet Web Server
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 209.165.200.254 255.255.255.255
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface Loopback1
\f1\fs29\fsmilli14667 \

\f3\fs32 description ISP2 DNS Server
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 209.165.202.158 255.255.255.255
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 description ISP2 
\f4 \'e0
\f3 \'a0R1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 209.165.202.129 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 128000
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 128
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 description ISP2 
\f4 \'e0
\f3 \'a0ISP1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 209.165.200.226 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 128
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 b) Verify the configuration by using the 
\f2\b show interfaces description
\f3\b0 \'a0command. The output from router R1 is shown below.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show interfaces description | include up
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 2:- Configure static routing.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 The current routing policy in the topology is as follows:
\f1\fs29\fsmilli14667 \

\f3\fs32 1) Router R1 establishes connectivity to the Internet through ISP1 using a default static route.
\f1\fs29\fsmilli14667 \

\f3\fs32 2) ISP1 and ISP2 have dynamic routing enabled between them, advertising their respective public address pools.
\f1\fs29\fsmilli14667 \

\f3\fs32 3) ISP1 and ISP2 both have static routes back to the ISP LAN.
\f1\fs29\fsmilli14667 \

\f3\fs32 a) Implement the routing policies on the respective routers.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip route 0.0.0.0 0.0.0.0 209.165.201.1
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname ISP1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router eigrp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 network 209.165.200.224 0.0.0.3
\f1\fs29\fsmilli14667 \

\f3\fs32 network 209.165.201.0 0.0.0.31
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto-summary
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 ip route 192.168.1.0 255.255.255.0 209.165.201.2
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname ISP2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router eigrp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 network 209.165.200.224 0.0.0.3
\f1\fs29\fsmilli14667 \

\f3\fs32 network 209.165.202.128 0.0.0.31
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto-summary
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 ip route 192.168.1.0 255.255.255.0 209.165.202.130
\f1\fs29\fsmilli14667 \

\f3\fs32 b) The Cisco IOS IP SLA feature enables an administrator to monitor network performance between Cisco devices (switches or routers) or from a Cisco device to a remote IP device.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 tclsh
\f1\fs29\fsmilli14667 \

\f3\fs32 foreach address \{
\f1\fs29\fsmilli14667 \

\f3\fs32 209.165.200.254
\f1\fs29\fsmilli14667 \

\f3\fs32 209.165.201.30
\f1\fs29\fsmilli14667 \

\f3\fs32 209.165.202.158
\f1\fs29\fsmilli14667 \

\f3\fs32 \} \{ ping $address source 192.168.1.1 \}
\f1\fs29\fsmilli14667 \

\f3\fs32 c) Trace the path taken to the web server, ISP1 DNS server, and ISP2 DNS server.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 tclsh
\f1\fs29\fsmilli14667 \

\f3\fs32 foreach address \{
\f1\fs29\fsmilli14667 \

\f3\fs32 209.165.200.254
\f1\fs29\fsmilli14667 \

\f3\fs32 209.165.201.30
\f1\fs29\fsmilli14667 \

\f3\fs32 209.165.202.158
\f1\fs29\fsmilli14667 \

\f3\fs32 \} \{ trace $address source 192.168.1.1 \}
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 3:- Configure IP SLA probes.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 a) Create an ICMP echo probe on R1 to the primary DNS server on ISP1 using the ip sla command.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip sla 11
\f1\fs29\fsmilli14667 \

\f3\fs32 icmp-echo 209.165.201.30
\f1\fs29\fsmilli14667 \

\f3\fs32 frequency 10
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 ip sla schedule 11 life forever start-time now
\f1\fs29\fsmilli14667 \

\f3\fs32 b) Verify the IP SLAs configuration of operation 11 using the 
\f2\b show ip sla configuration 11
\f3\b0 \'a0command.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip sla configuration 11
\f1\fs29\fsmilli14667 \

\f3\fs32 c) Issue the 
\f2\b show ip sla statistics
\f3\b0 \'a0command to display the number of successes, failures, and results of the latest operations.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip sla statistics
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip sla 22
\f1\fs29\fsmilli14667 \

\f3\fs32 icmp-echo 209.165.202.158
\f1\fs29\fsmilli14667 \

\f3\fs32 frequency 10
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 ip sla schedule 22 life forever start-time now
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 e) Verify the new probe using the 
\f2\b show ip sla configuration
\f3\b0 \'a0and 
\f2\b show ip sla statistics
\f3\b0 \'a0commands.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip sla configuration 22
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip sla statistics 22
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 4:- Configure tracking options.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 a) On R1, remove the current default route and replace it with a floating static route having an administrative distance of 5.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 no ip route 0.0.0.0 0.0.0.0 209.165.201.1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip route 0.0.0.0 0.0.0.0 209.165.201.1 5
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 b) Verify the routing table.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route | begin Gateway
\f1\fs29\fsmilli14667 \

\f3\fs32 c) From global configuration mode on R1, use the 
\f2\b track 1 ip sla 11 reachability
\f3\b0 \'a0command to enter the config-track subconfiguration mode.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 track 1 rtr 11 reachability
\f1\fs29\fsmilli14667 \

\f3\fs32 delay down 10 up 1
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 debug ip routing
\f1\fs29\fsmilli14667 \

\f3\fs32 conf t
\f1\fs29\fsmilli14667 \

\f3\fs32 ip route 0.0.0.0 0.0.0.0 209.165.201.1 2 track 1
\f1\fs29\fsmilli14667 \

\f3\fs32 track 2 rtr 22 reachability
\f1\fs29\fsmilli14667 \

\f3\fs32 delay down 10 up 1
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 debug ip routing
\f1\fs29\fsmilli14667 \

\f3\fs32 conf t
\f1\fs29\fsmilli14667 \

\f3\fs32 ip route 0.0.0.0 0.0.0.0 209.165.202.129 3 track 2
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname ISP1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 conf t
\f1\fs29\fsmilli14667 \

\f3\fs32 interface loopback 1
\f1\fs29\fsmilli14667 \

\f3\fs32 shutdown
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip sla statistics
\f1\fs29\fsmilli14667 \

\f3\fs32 trace 209.165.200.254 source 192.168.1.1
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname ISP1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 no shutdown
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip sla statistics
\f1\fs29\fsmilli14667 \
\'a0\
\pard\pardeftab720\sa213\partightenfactor0

\f0\b \cf0 Prac 2
\f1\b0 \
\pard\pardeftab720\sa213\qc\partightenfactor0

\f2\b\fs37\fsmilli18667 \cf0 Aim:- Using the AS_PATH Attribute
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\qc\partightenfactor0
\cf0 {{\NeXTGraphic Attachment.png \width320 \height320 \appleattachmentpadding0 \appleembedtype0 \appleaqc
}¬}\pard\pardeftab720\sa213\qc\partightenfactor0

\f2\b\fs37\fsmilli18667 \cf0 \'a0
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 1:- Prepare the routers for the lab.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1 (hostname SanJose)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 hostname SanJose
\f1\fs29\fsmilli14667 \

\f3\fs32 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.1.1.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.1.5 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 128000
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 hostname ISP
\f1\fs29\fsmilli14667 \

\f3\fs32 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.2.2.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.1.6 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.24.1.17 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 128000
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 (hostname CustRtr)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 hostname CustRtr
\f1\fs29\fsmilli14667 \

\f3\fs32 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.3.3.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.24.1.18 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 b) Use 
\f2\b ping 
\f3\b0 to test the connectivity between the directly connected routers.
\f1\fs29\fsmilli14667 \
Ping 192.168.1.6\
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 3:- Configure BGP
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1 (hostname SanJose)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 100
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 192.168.1.6 remote-as 300
\f1\fs29\fsmilli14667 \

\f3\fs32 network 10.1.1.0 mask 255.255.255.0
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 300
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 192.168.1.5 remote-as 100
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 172.24.1.18 remote-as 65000
\f1\fs29\fsmilli14667 \

\f3\fs32 network 10.2.2.0 mask 255.255.255.0
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 (hostname CustRtr)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 65000
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 172.24.1.17 remote-as 300
\f1\fs29\fsmilli14667 \

\f3\fs32 network 10.3.3.0 mask 255.255.255.0
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip bgp neighbors
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 4:- Remove the private AS.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1 (hostname SanJose)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \

\f3\fs32 b) Ping the 10.3.3.1 address from the SanJose.
\f1\fs29\fsmilli14667 \

\f3\fs32 ping 10.3.3.1
\f1\fs29\fsmilli14667 \

\f3\fs32 c) Ping again, this time as an extended ping, sourcing from the Loopback0 interface address.
\f1\fs29\fsmilli14667 \

\f3\fs32 ping 10.3.3.1 source 10.1.1.1
\f1\fs29\fsmilli14667 \

\f3\fs32 d) Check the BGP table from SanJose by using the 
\f2\b show ip bgp 
\f3\b0 command. Note the AS path for the 10.3.3.0 network. The AS 65000 should be listed in the path to 10.3.3.0.
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip bgp
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 300
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 192.168.1.5 remove-private-as
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 clear ip bgp *
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 (hostname SanJose)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 (hostname SanJose)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ping 10.3.3.1 source 10.1.1.1
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 (hostname SanJose)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip bgp
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 5:- Use the AS_PATH attribute to filter routes.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R2 (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip as-path access-list 1 deny ^100$
\f1\fs29\fsmilli14667 \

\f3\fs32 ip as-path access-list 1 permit .*
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 300
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 172.24.1.18 filter-list 1 out
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 clear ip bgp *
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 (hostname CustRtr)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip bgp regexp ^100$
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ISP# tclsh
\f1\fs29\fsmilli14667 \

\f3\fs32 ISP(tcl)# foreach address \{
\f1\fs29\fsmilli14667 \

\f3\fs32 +> 10.1.1.1
\f1\fs29\fsmilli14667 \

\f3\fs32 +> 10.2.2.1
\f1\fs29\fsmilli14667 \

\f3\fs32 +> 10.3.3.1
\f1\fs29\fsmilli14667 \

\f3\fs32 +> 192.168.1.5
\f1\fs29\fsmilli14667 \

\f3\fs32 +> 192.168.1.6
\f1\fs29\fsmilli14667 \

\f3\fs32 +> 172.24.1.17
\f1\fs29\fsmilli14667 \

\f3\fs32 +> 172.24.1.18 \} \{ ping $address \}
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f0\b \cf0 Prac 3
\f1\b0 \
\pard\pardeftab720\sa213\qc\partightenfactor0

\f2\b\fs37\fsmilli18667 \cf0 Aim:- Configuring IBGP and EBGP Sessions, Local Preference, and MED
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0
\cf0 {{\NeXTGraphic Attachment.png \width320 \height320 \appleattachmentpadding0 \appleembedtype0 \appleaqc
}¬}\pard\pardeftab720\sa213\partightenfactor0
\cf0 \'a0\
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs37\fsmilli18667 \cf0 Code:-
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 1: Configure interface addresses.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1 Console (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 hostname ISP
\f1\fs29\fsmilli14667 \

\f3\fs32 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.100.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface s1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.1.5 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 128000
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface s1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.1.1 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 hostname SanJose1
\f1\fs29\fsmilli14667 \

\f3\fs32 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.64.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface s1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.1.6 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface s1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.1.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 128000
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 hostname SanJose2
\f1\fs29\fsmilli14667 \

\f3\fs32 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.32.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface s1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.1.2 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 128000
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface s1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.1.2 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 2: Configure EIGRP.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router eigrp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 network 172.16.0.0
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router eigrp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 network 172.16.0.0
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 3: Configure IBGP and verify BGP neighbors.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 a) Configure IBGP between the SanJose1 and SanJose2 routers.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 172.16.32.1 remote-as 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 172.16.32.1 update-source Loopback0
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 172.16.64.1 remote-as 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 172.16.64.1 update-source Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip bgp neighbors
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 4: Configure EBGP and verify BGP neighbors.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 a) Configure ISP to run EBGP with SanJose1 and SanJose2. Enter the following commands
\f1\fs29\fsmilli14667 \

\f3\fs32 on ISP.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 200
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 192.168.1.6 remote-as 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 192.168.1.2 remote-as 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 network 192.168.100.0
\f1\fs29\fsmilli14667 \

\f3\fs32 b) Configure a discard static route for the 172.16.0.0/16 network
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip route 172.16.0.0 255.255.0.0 null0
\f1\fs29\fsmilli14667 \

\f3\fs32 c) Configure SanJose1 as an EBGP peer to ISP.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 192.168.1.5 remote-as 200
\f1\fs29\fsmilli14667 \

\f3\fs32 network 172.16.0.0
\f1\fs29\fsmilli14667 \

\f3\fs32 d) Use the show ip bgp neighbors command to verify that SanJose1 and ISP have reached the
\f1\fs29\fsmilli14667 \

\f3\fs32 established state. Troubleshoot if necessary.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip bgp neighbors
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip route 172.16.0.0 255.255.0.0 null0
\f1\fs29\fsmilli14667 \

\f3\fs32 router bgp 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 192.168.1.1 remote-as 200
\f1\fs29\fsmilli14667 \

\f3\fs32 network 172.16.0.0
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 5: View BGP summary output.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R2 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip bgp summary
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 6: Verify which path the traffic takes.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1 Console (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 clear ip bgp *
\f1\fs29\fsmilli14667 \

\f3\fs32 ping 172.16.64.1
\f1\fs29\fsmilli14667 \

\f3\fs32 ping 172.16.1.1
\f1\fs29\fsmilli14667 \

\f3\fs32 ping 172.16.32.1
\f1\fs29\fsmilli14667 \

\f3\fs32 ping 172.16.1.2
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip bgp
\f1\fs29\fsmilli14667 \

\f3\fs32 ping 172.16.1.1 source 192.168.100.1
\f1\fs29\fsmilli14667 \

\f3\fs32 ping 172.16.32.1 source 192.168.100.1
\f1\fs29\fsmilli14667 \

\f3\fs32 ping 172.16.1.2 source 192.168.100.1
\f1\fs29\fsmilli14667 \

\f3\fs32 ping 172.16.64.1 source 192.168.100.1
\f1\fs29\fsmilli14667 \

\f3\fs32 ping
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 7: Configure the BGP next-hop-self feature.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1 Console (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 a) Issue the following commands on the ISP router.
\f1\fs29\fsmilli14667 \

\f3\fs32 router bgp 200
\f1\fs29\fsmilli14667 \

\f3\fs32 network 192.168.1.0 mask 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 network 192.168.1.4 mask 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 end
\f1\fs29\fsmilli14667 \

\f3\fs32 b) Issue the show ip bgp command to verify that the ISP is correctly injecting its own WAN links into BGP.
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip bgp
\f1\fs29\fsmilli14667 \

\f3\fs32 c) Verify on SanJose1 and SanJose2 that the opposite WAN link is included in the routing table. The output from SanJose2 is as follows.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \

\f3\fs32 d) To better understand the next-hop-self command
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 200
\f1\fs29\fsmilli14667 \

\f3\fs32 no network 192.168.1.0 mask 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 no network 192.168.1.4 mask 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface s1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 e) Display SanJose2\'92s BGP table using the show ip bgp command and the IPv4 routing table with show ip route.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip bgp
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip route
\f1\fs29\fsmilli14667 \

\f3\fs32 f) Issue the next-hop-self command on SanJose1 and SanJose2 to advertise themselves as the next hop to their IBGP peer.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 172.16.32.1 next-hop-self
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 172.16.64.1 next-hop-self
\f1\fs29\fsmilli14667 \

\f3\fs32 g) Reset BGP operation on either router with the clear ip bgp * command.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 clear ip bgp *
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 clear ip bgp *
\f1\fs29\fsmilli14667 \

\f3\fs32 h) After the routers have returned to established BGP speakers, issue the show ip bgp command on SanJose2 and notice that the next hop is now SanJose1 instead of ISP.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip bgp
\f1\fs29\fsmilli14667 \

\f3\fs32 i) The show ip route command on SanJose2 now displays the 192.168.100.0/24 network because SanJose1 is the next hop, 172.16.64.1, which is reachable from SanJose2.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface s1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 8: Set BGP local preference.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 route-map PRIMARY_T1_IN permit 10
\f1\fs29\fsmilli14667 \

\f3\fs32 set local-preference 150
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 router bgp 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 192.168.1.5 route-map PRIMARY_T1_IN in
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 route-map SECONDARY_T1_IN permit 10
\f1\fs29\fsmilli14667 \

\f3\fs32 set local-preference 125
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 router bgp 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 192.168.1.1 route-map SECONDARY_T1_IN in
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 clear ip bgp * soft
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip bgp
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 clear ip bgp * soft
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip bgp
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 9: Set BGP MED.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1 Console (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip bgp
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ping
\f1\fs29\fsmilli14667 \

\f3\fs32 c) Create a new policy to force the ISP router to return all traffic via SanJose1. Create a second route map utilizing the MED (metric) that is shared between EBGP neighbors.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 route-map PRIMARY_T1_MED_OUT permit 10
\f1\fs29\fsmilli14667 \

\f3\fs32 set Metric 50
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 router bgp 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 192.168.1.5 route-map PRIMARY_TI_MED_OUT out
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 route-map SECONDARY_T1_MED_OUT permit 10
\f1\fs29\fsmilli14667 \

\f3\fs32 set Metric 75
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 router bgp 64512
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 192.168.1.1 route-map SECONDARY_T1_MED_OUT out
\f1\fs29\fsmilli14667 \

\f3\fs32 d) Use the clear ip bgp * soft command after issuing this new policy. Issuing the show ip bgp command as follows on SanJose1 or SanJose2 does not indicate anything about this newly defined policy.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 clear ip bgp * soft
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip bgp
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 clear ip bgp * soft
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip bgp
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ping
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 10: Establish a default route.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1 Console (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip bgp
\f1\fs29\fsmilli14667 \

\f3\fs32 router bgp 200
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 192.168.1.6 default-originate
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 192.168.1.2 default-originate
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface loopback 10
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.0.0.1 255.255.255.0
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip bgp
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 traceroute 10.0.0.1
\f1\fs29\fsmilli14667 \

\f3\fs32 e)
\f1\fs29\fsmilli14667 \'a0
\f3\fs32 Next, test how BGP adapts to using a different default route when the path between SanJose1 and ISP goes down.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console (hostname ISP)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface s1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 f) Verify that both routers are modified their routing tables with the default route using the path between SanJose2 and ISP.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console (hostname SanJose2)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console (hostname SanJose1)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 traceroute 10.0.0.1
\f1\fs29\fsmilli14667 \
\'a0\
\'a0
\f0\b Prac 4
\f1\b0 \
\pard\pardeftab720\sa213\qc\partightenfactor0

\f2\b\fs37\fsmilli18667 \cf0 Aim:- Secure the Management Plane
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0
\cf0 {{\NeXTGraphic Attachment.png \width320 \height320 \appleattachmentpadding0 \appleembedtype0 \appleaqc
}¬}\pard\pardeftab720\sa213\partightenfactor0
\cf0 \'a0\
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 1:- Configure loopbacks and assign addresses.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1
\f3\b0 \'a0
\f2\b Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 hostname R1
\f1\fs29\fsmilli14667 \

\f3\fs32 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 description R1 LAN
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.1.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 description R1 
\f4 \'e0
\f3 \'a0R2
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.1.1.1 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 128000
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 end
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 hostname R2
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 description R2 
\f4 \'e0
\f3 \'a0R1
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.1.1.2 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 description R2 
\f4 \'e0
\f3 \'a0R3
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.2.2.1 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 128000
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 end
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 hostname R3
\f1\fs29\fsmilli14667 \

\f3\fs32 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 description R3 LAN
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.3.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 description R3 
\f4 \'e0
\f3 \'a0R2
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.3.3.1 255.255.255.252
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 end
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 2:- Configure Static Routes.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 a) On R1, configure a default static route to R2.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip route 0.0.0.0 0.0.0.0 10.1.1.2
\f1\fs29\fsmilli14667 \

\f3\fs32 b) On R3, configure a default static route to R2.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip route 0.0.0.0 0.0.0.0 10.2.2.1
\f1\fs29\fsmilli14667 \

\f3\fs32 c) On R2, configure two static routes
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip route 192.168.1.0 255.255.255.0 10.1.1.1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip route 192.168.3.0 255.255.255.0 10.2.2.2
\f1\fs29\fsmilli14667 \

\f3\fs32 d) From the R1 router, run the following Tcl script to verify connectivity.
\f1\fs29\fsmilli14667 \

\f3\fs32 R1# tclsh
\f1\fs29\fsmilli14667 \

\f3\fs32 R1(tcl)# foreach address \{
\f1\fs29\fsmilli14667 \

\f3\fs32 +> (tcl)# 192.168.1.1
\f1\fs29\fsmilli14667 \

\f3\fs32 +> (tcl)# 10.1.1.1
\f1\fs29\fsmilli14667 \

\f3\fs32 +> (tcl)# 10.1.1.2
\f1\fs29\fsmilli14667 \

\f3\fs32 +> (tcl)# 10.2.2.1
\f1\fs29\fsmilli14667 \

\f3\fs32 +> (tcl)# 10.2.2.2
\f1\fs29\fsmilli14667 \

\f3\fs32 +> (tcl)# 192.168.3.1
\f1\fs29\fsmilli14667 \

\f3\fs32 +> (tcl)# \} \{ ping $address \}
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 3:- Secure management access.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 security passwords min-length 10
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 enable secret class12345
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 line console 0
\f1\fs29\fsmilli14667 \

\f3\fs32 password ciscoconpass
\f1\fs29\fsmilli14667 \

\f3\fs32 exec-timeout 5 0
\f1\fs29\fsmilli14667 \

\f3\fs32 login
\f1\fs29\fsmilli14667 \

\f3\fs32 logging synchronous
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 d) Configure the password on the vty lines for router R1
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 line vty 0 4
\f1\fs29\fsmilli14667 \

\f3\fs32 password ciscovtypass
\f1\fs29\fsmilli14667 \

\f3\fs32 exec-timeout 5 0
\f1\fs29\fsmilli14667 \

\f3\fs32 login
\f1\fs29\fsmilli14667 \

\f3\fs32 logging synchronous
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 line aux 0
\f1\fs29\fsmilli14667 \

\f3\fs32 no exec
\f1\fs29\fsmilli14667 \

\f3\fs32 end
\f1\fs29\fsmilli14667 \

\f3\fs32 f)
\f1\fs29\fsmilli14667 \'a0
\f3\fs32 Enter privileged EXEC mode and issue the 
\f2\b show run
\f3\b0 \'a0command. Can you read the enable secret password?
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show run
\f1\fs29\fsmilli14667 \

\f3\fs32 g) Use the 
\f2\b service password-encryption 
\f3\b0 command to encrypt the line console and vty passwords.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 service password-encryption
\f1\fs29\fsmilli14667 \

\f3\fs32 h) Issue the 
\f2\b show run 
\f3\b0 command. Can you read the console, aux, and vty passwords?
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show run
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 banner motd $Unauthorized access strictly prohibited!$
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 j) Issue the 
\f2\b show run 
\f3\b0 command. What does the $ convert to in the output?
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 4:- Configure enhanced username password security.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 username JR-ADMIN secret class12345
\f1\fs29\fsmilli14667 \

\f3\fs32 username ADMIN secret class54321
\f1\fs29\fsmilli14667 \

\f3\fs32 Note:- An older method for creating local database entries is to use the 
\f2\b username name password password
\f3\b0 \'a0command.
\f1\fs29\fsmilli14667 \

\f3\fs32 b) Set the console line to use the locally defined login accounts.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 line console 0
\f1\fs29\fsmilli14667 \

\f3\fs32 login local
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 c) Set the vty lines to use the locally defined login accounts.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 Line vty 0 4
\f1\fs29\fsmilli14667 \

\f3\fs32 login local
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 d) Repeat the steps 4a to 4c on R3.
\f1\fs29\fsmilli14667 \

\f3\fs32 e) To verify the configuration, telnet to R3 from R1 and login using the ADMIN local database account.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 telnet 10.2.2.2
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 5:- Enabling AAA RADIUS Authentication with Local User for Backup.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 a) Always have local database accounts created before enabling AAA. Since we created two local database accounts in the previous step, then we can proceed and enable AAA on R1.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 aaa new-model
\f1\fs29\fsmilli14667 \

\f3\fs32 b) Configure the specifics for the first RADIUS server located at 192.168.1.101. Use 
\f2\b RADIUS-1-pa55w0rd
\f3\b0 \'a0as the server password.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 radius-server host 192.168.1.101 key RADIUS-1-pa55w0rd
\f1\fs29\fsmilli14667 \

\f3\fs32 c) Configure the specifics for the second RADIUS server located at 192.168.1.102. Use 
\f2\b RADIUS-2-pa55w0rd
\f3\b0 \'a0as the server password.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 radius-server host 192.168.1.102 key RADIUS-2-pa55w0rd
\f1\fs29\fsmilli14667 \

\f3\fs32 d) Assign both RADIUS servers to a server group.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 aaa group server radius RADIUS-GROUP
\f1\fs29\fsmilli14667 \

\f3\fs32 server 192.168.1.101
\f1\fs29\fsmilli14667 \

\f3\fs32 server 192.168.1.102
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 e) Enable the default AAA authentication login to attempt to validate against the server group. If they are not available, then authentication should be validated against the local database.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 aaa authentication login default group RADIUS-GROUP local
\f1\fs29\fsmilli14667 \

\f3\fs32 Note:- Once this command is configured, all line access methods default to the default authentication method. The local option enables AAA to refer to the local database. Only the password is case sensitive.
\f1\fs29\fsmilli14667 \

\f3\fs32 f) Enable the default AAA authentication Telnet login to attempt to validate against the server group. If they are not available, then authentication should be validated against a case sensitive local database.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 aaa authentication login TELNET-LOGIN group RADIUS-GROUP local-case
\f1\fs29\fsmilli14667 \

\f3\fs32 g) Alter the vty lines to use the TELNET-LOGIN AAA authentication method.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 line vty 0 4
\f1\fs29\fsmilli14667 \

\f3\fs32 login authentication TELNET-LOGIN
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 h) Repeat the steps 5a to 5g on R3.
\f1\fs29\fsmilli14667 \

\f3\fs32 i) To verify the configuration, telnet to R3 from R1 and login using the ADMIN local database account.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 telnet 10.2.2.2
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 6:- Enabling secure remote management using SSH
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 In this step, you will enable R1 and R3 to support SSH instead of Telnet.
\f1\fs29\fsmilli14667 \

\f3\fs32 a) SSH requires that a device name and a domain name be configured. Since the router already has a name assigned, configure the domain name.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip domain-name ccnasecurity.com
\f1\fs29\fsmilli14667 \

\f3\fs32 b) The router uses the RSA key pair for authentication and encryption of transmitted SSH data. Although optional it may be wise to erase any existing key pairs on the router.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 crypto key zeroize rsa
\f1\fs29\fsmilli14667 \

\f3\fs32 Note:- If no keys exist, you might receive this message: % No Signature RSA Keys found in configuration.
\f1\fs29\fsmilli14667 \

\f3\fs32 c) Generate the RSA encryption key pair for the router. Configure the RSA keys with 1024 for the number of modulus bits. The default is 512, and the range is from 360 to 2048.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 crypto key generate rsa general-keys modulus 1024
\f1\fs29\fsmilli14667 \

\f3\fs32 d) Cisco routers support two versions of SSH:
\f1\fs29\fsmilli14667 \

\f3\fs32 \'95 SSH version 1 (SSHv1): Original version but has known vulnerabilities.
\f1\fs29\fsmilli14667 \

\f3\fs32 \'95 SSH version 2 (SSHv2): Provides better security using the Diffie-Hellman key exchange and the strong integrity-checking message authentication code (MAC).
\f1\fs29\fsmilli14667 \

\f3\fs32 Configure SSH version 2 on R1.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip ssh version 2
\f1\fs29\fsmilli14667 \

\f3\fs32 e) Configure the vty lines to use only SSH connections.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 line vty 0 4
\f1\fs29\fsmilli14667 \

\f3\fs32 transport input ssh
\f1\fs29\fsmilli14667 \

\f3\fs32 end
\f1\fs29\fsmilli14667 \

\f3\fs32 f) Verify the SSH configuration using the 
\f2\b show ip ssh 
\f3\b0 command.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip ssh
\f1\fs29\fsmilli14667 \

\f3\fs32 g) Repeat the steps from 6a to 6f on R3
\f1\fs29\fsmilli14667 \

\f3\fs32 h) Although a user can SSH from a host using the SSH option of TeraTerm of PuTTY, a router can also SSH to another SSH enabled device. SSH to R3 from R1.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ssh \'96l ADMIN 10.2.2.2
\f1\fs29\fsmilli14667 \
\'a0\
\pard\pardeftab720\sa213\partightenfactor0

\f0\b \cf0 \'a0Prac 5
\f1\b0 \
\pard\pardeftab720\sa213\qc\partightenfactor0

\f2\b\fs37\fsmilli18667 \cf0 Aim:- Configure and Verify Path Control Using PBR
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0
\cf0 {{\NeXTGraphic Attachment.png \width320 \height320 \appleattachmentpadding0 \appleembedtype0 \appleaqc
}¬}\pard\pardeftab720\sa213\partightenfactor0
\cf0 \'a0\
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 1:- Configure loopbacks and assign addresses.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Lo1
\f1\fs29\fsmilli14667 \

\f3\fs32 description R1 LAN
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.1.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 description R1 
\f4 \'e0
\f3 \'a0R2
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.12.1 255.255.255.248
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 128000
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 128
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/3
\f1\fs29\fsmilli14667 \

\f3\fs32 description R1 
\f4 \'e0
\f3 \'a0R3
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.13.1 255.255.255.248
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 64
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Lo2
\f1\fs29\fsmilli14667 \

\f3\fs32 description R2 LAN
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.2.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 description R2 
\f4 \'e0
\f3 \'a0R1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.12.2 255.255.255.248
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 128
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 description R2 
\f4 \'e0
\f3 \'a0R3
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.23.2 255.255.255.248
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 128000
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 128
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Lo3
\f1\fs29\fsmilli14667 \

\f3\fs32 description R3 LAN
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.3.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/3
\f1\fs29\fsmilli14667 \

\f3\fs32 description R3 
\f4 \'e0
\f3 \'a0R1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.13.3 255.255.255.248
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 64000
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 64
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 description R3 
\f4 \'e0
\f3 \'a0R2
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.23.3 255.255.255.248
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 128
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/2
\f1\fs29\fsmilli14667 \

\f3\fs32 description R3 
\f4 \'e0
\f3 \'a0R4
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.34.3 255.255.255.248
\f1\fs29\fsmilli14667 \

\f3\fs32 clock rate 64000
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 64
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R4 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Lo4
\f1\fs29\fsmilli14667 \

\f3\fs32 description R4 LAN A
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.4.1 255.255.255.128
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface Lo5
\f1\fs29\fsmilli14667 \

\f3\fs32 description R4 LAN B
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.4.129 255.255.255.128
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/2
\f1\fs29\fsmilli14667 \

\f3\fs32 description R4 
\f4 \'e0
\f3 \'a0R3
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.34.4 255.255.255.248
\f1\fs29\fsmilli14667 \

\f3\fs32 bandwidth 64
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 c) Verify the configuration with the 
\f2\b show ip interface brief
\f3\b0 , 
\f2\b show
\f3\b0 \'a0
\f2\b interfaces description
\f3\b0 \'a0commands. The output from router R3 is shown below.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip interface brief \'a0| include up
\f1\fs29\fsmilli14667 \

\f3\fs32 show interfaces description | include up
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 3:- Configure basic EIGRP
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 a) Implement EIGRP AS 1 over the serial and loopback interfaces as you have configured it for the other EIGRP labs.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router eigrp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 network 192.168.1.0
\f1\fs29\fsmilli14667 \

\f3\fs32 network 172.16.12.0 0.0.0.7
\f1\fs29\fsmilli14667 \

\f3\fs32 network 172.16.13.0 0.0.0.7
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto-summary
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router eigrp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 network 192.168.2.0
\f1\fs29\fsmilli14667 \

\f3\fs32 network 172.16.12.0 0.0.0.7
\f1\fs29\fsmilli14667 \

\f3\fs32 network 172.16.23.0 0.0.0.7
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto-summary
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router eigrp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 network 192.168.3.0
\f1\fs29\fsmilli14667 \

\f3\fs32 network 172.16.13.0 0.0.0.7
\f1\fs29\fsmilli14667 \

\f3\fs32 network 172.16.23.0 0.0.0.7
\f1\fs29\fsmilli14667 \

\f3\fs32 network 172.16.34.0 0.0.0.7
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto-summary
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R4 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router eigrp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 network 192.168.4.0
\f1\fs29\fsmilli14667 \

\f3\fs32 network 172.16.34.0 0.0.0.7
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto-summary
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 4:- Verify EIGRP connectivity.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 a) Verify the configuration by using the 
\f2\b show ip eigrp neighbors
\f3\b0 \'a0command to check which routers have EIGRP adjacencies.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip eigrp neighbors
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip eigrp neighbors
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip eigrp neighbors
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R4 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip eigrp neighbors
\f1\fs29\fsmilli14667 \

\f3\fs32 b) Run the following Tcl script on all routers to verify full connectivity.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 R1# tclsh
\f1\fs29\fsmilli14667 \

\f3\fs32 foreach address \{
\f1\fs29\fsmilli14667 \

\f3\fs32 172.16.12.1
\f1\fs29\fsmilli14667 \

\f3\fs32 172.16.12.2
\f1\fs29\fsmilli14667 \

\f3\fs32 172.16.13.1
\f1\fs29\fsmilli14667 \

\f3\fs32 172.16.13.3
\f1\fs29\fsmilli14667 \

\f3\fs32 172.16.23.2
\f1\fs29\fsmilli14667 \

\f3\fs32 172.16.23.3
\f1\fs29\fsmilli14667 \

\f3\fs32 172.16.34.3
\f1\fs29\fsmilli14667 \

\f3\fs32 172.16.34.4
\f1\fs29\fsmilli14667 \

\f3\fs32 192.168.1.1
\f1\fs29\fsmilli14667 \

\f3\fs32 192.168.2.1
\f1\fs29\fsmilli14667 \

\f3\fs32 192.168.3.1
\f1\fs29\fsmilli14667 \

\f3\fs32 192.168.4.1
\f1\fs29\fsmilli14667 \

\f3\fs32 192.168.4.129
\f1\fs29\fsmilli14667 \

\f3\fs32 \} \{ ping $address \}
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 5:- Verify the current path.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 Before you configure PBR, verify the routing table on R1.
\f1\fs29\fsmilli14667 \

\f3\fs32 a) On R1, use the 
\f2\b show ip route
\f3\b0 \'a0command. Notice the next-hop IP address for all networks discovered by EIGRP.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route | begin Gateway
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R4 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 traceroute 192.168.1.1 source 192.168.4.1 \'a0\'a0\'a0\'a0(R4 LAN A)
\f1\fs29\fsmilli14667 \

\f3\fs32 traceroute 192.168.1.1 source 192.168.4.129 \'a0\'a0\'a0\'a0(R4 LAN B)
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route | begin Gateway
\f1\fs29\fsmilli14667 \

\f3\fs32 d) On R3, use the 
\f2\b show interfaces
\f3\b0 \'a0
\f2\b S1/3
\f3\b0 \'a0and 
\f2\b show interfaces S1/1
\f3\b0 \'a0commands.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show interfaces S1/3
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show interfaces S1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 e) Confirm that R3 has a valid route to reach R1 from its serial 0/0/0 interface using the 
\f2\b show ip eigrp topology 192.168.1.0
\f3\b0 \'a0command.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip eigrp topology 192.168.1.0
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 6:- Configure PBR to provide path control.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 a) On router R3, create a standard access list called 
\f2\b PBR-ACL
\f3\b0 \'a0to identify the R4 LAN B network.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip access-list standard PBR-ACL
\f1\fs29\fsmilli14667 \

\f3\fs32 remark ACL matches R4 LAN B traffic
\f1\fs29\fsmilli14667 \

\f3\fs32 permit 192.168.4.128 0.0.0.127
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 b) Create a route map called 
\f2\b R3-to-R1
\f3\b0 \'a0that matches PBR-ACL and sets the next-hop interface to the R1 S1/1 interface.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 route-map R3-to-R1 permit
\f1\fs29\fsmilli14667 \

\f3\fs32 description RM to forward LAN B traffic to R1
\f1\fs29\fsmilli14667 \

\f3\fs32 match ip address PBR-ACL
\f1\fs29\fsmilli14667 \

\f3\fs32 set ip next-hop 172.16.13.1
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 c) Apply the R3-to-R1 route map to the serial interface on R3 that receives the traffic from R4. Use the 
\f2\b ip policy route-map
\f3\b0 \'a0command on interface S1/2.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface S1/2
\f1\fs29\fsmilli14667 \

\f3\fs32 ip policy route-map R3-to-R1
\f1\fs29\fsmilli14667 \

\f3\fs32 end
\f1\fs29\fsmilli14667 \

\f3\fs32 d) On R3, display the policy and matches using the 
\f2\b show route-map
\f3\b0 \'a0command.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show route-map
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 7:- Test the policy.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 a) On R3, create a standard ACL which identifies all of the R4 LANs.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 access-list 1 permit 192.168.4.0 0.0.0.255
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 b) Enable PBR debugging only for traffic that matches the R4 LANs.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 debug ip policy ?
\f1\fs29\fsmilli14667 \

\f3\fs32 debug ip policy 1
\f1\fs29\fsmilli14667 \

\f3\fs32 c) Test the policy from R4 with the traceroute command, using R4 LAN A as the source network.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R4 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 traceroute 192.168.1.1 source 192.168.4.1
\f1\fs29\fsmilli14667 \

\f3\fs32 d) Test the policy from R4 with the 
\f2\b traceroute
\f3\b0 \'a0command, using R4 LAN B as the source network.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R4 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 traceroute 192.168.1.1 source 192.168.4.129
\f1\fs29\fsmilli14667 \

\f3\fs32 e) On R3, display the policy and matches using the show route-map command.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show route-map
\f1\fs29\fsmilli14667 \
\'a0\
\pard\pardeftab720\sa213\partightenfactor0

\f0\b \cf0 \'a0Prac 6
\f1\b0 \
\pard\pardeftab720\sa213\qc\partightenfactor0

\f2\b\fs37\fsmilli18667 \cf0 Aim:- To Simulate IP Service Level Agreements and Remote SPAN in a Campus Environment
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0
\cf0 {{\NeXTGraphic Attachment.png \width320 \height320 \appleattachmentpadding0 \appleembedtype0 \appleaqc
}¬}\pard\pardeftab720\sa213\partightenfactor0
\cf0 \'a0\
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Part 1: Prepare for the Lab
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Step 1: Configure basic switch parameters.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 Enter basic configuration commands on each switch according to the diagram.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 DSL1 Console:
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface vlan 99
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.99.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 enable secret password
\f1\fs29\fsmilli14667 \

\f3\fs32 line vty 0 15
\f1\fs29\fsmilli14667 \

\f3\fs32 no login
\f1\fs29\fsmilli14667 \

\f3\fs32 privilege level 15
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 ALS1 Console:
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface vlan 99
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.99.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 enable secret password
\f1\fs29\fsmilli14667 \

\f3\fs32 line vty 0 15
\f1\fs29\fsmilli14667 \

\f3\fs32 no login
\f1\fs29\fsmilli14667 \

\f3\fs32 privilege level 15
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 ALS2 Console:
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface vlan 99
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 172.16.99.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 enable secret password
\f1\fs29\fsmilli14667 \

\f3\fs32 line vty 0 15
\f1\fs29\fsmilli14667 \

\f3\fs32 no login
\f1\fs29\fsmilli14667 \

\f3\fs32 privilege level 15
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 ALS1 Console:
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip default-gateway 172.16.99.1
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 ALS2 Console:
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip default-gateway 172.16.99.1
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 2: Configure host PCs.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 Configure PCs Host A and Host B with the IP address and subnet mask shown in the topology. Host A is in VLAN 100 with a default gateway of 172.16.100.1. Host B is in VLAN 200 with a default gateway of 172.16.200.1.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 hostA Console:
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip 172.16.100.101/24 172.16.100.1
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 hostB Console:
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip 172.16.200.101/24 172.16.200.1
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 3: Configure trunks and EtherChannels between switches.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 Configure the trunks and EtherChannel from DLS1 to ALS1
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 DLS1 Console:
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface ran f 1/1 \'96 2
\f1\fs29\fsmilli14667 \

\f3\fs32 switchport trunk encapsulation dot1q
\f1\fs29\fsmilli14667 \

\f3\fs32 switchport mode trunk
\f1\fs29\fsmilli14667 \

\f3\fs32 channel-group 1 mode on
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 Configure the trunks and EtherChannel from DLS1 to ALS2
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 DLS1 Console:
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface ran f 1/5 \'96 6
\f1\fs29\fsmilli14667 \

\f3\fs32 switchport trunk encapsulation dot1q
\f1\fs29\fsmilli14667 \

\f3\fs32 switchport mode trunk
\f1\fs29\fsmilli14667 \

\f3\fs32 channel-group 2 mode on
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 Configure the trunks and EtherChannel from ALS1 and DLS1
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 ALS1 Console:
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface range f 1/3 \'96 4
\f1\fs29\fsmilli14667 \

\f3\fs32 switchport mode trunk
\f1\fs29\fsmilli14667 \

\f3\fs32 channel-group 3 mode on
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 Configure the trunks and EtherChannel from ALS1 and ALS2
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 ALS1 Console:
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface range f 1/1 \'96 2
\f1\fs29\fsmilli14667 \

\f3\fs32 switchport mode trunk
\f1\fs29\fsmilli14667 \

\f3\fs32 channel-group 2 mode on
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 Configure the trunks and EtherChannel from ALS2 and DLS1
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 ALS2 Console:
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface range f 1/3 \'96 4
\f1\fs29\fsmilli14667 \

\f3\fs32 switchport mode trunk
\f1\fs29\fsmilli14667 \

\f3\fs32 channel-group 3 mode on
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 Configure the trunks and EtherChannel from ALS2 and ALS1
\f1\fs29\fsmilli14667 \

\f3\fs32 interface range f 1/5 \'96 6
\f1\fs29\fsmilli14667 \

\f3\fs32 switchport mode trunk
\f1\fs29\fsmilli14667 \

\f3\fs32 channel-group 2 mode on
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\'a0\
\'a0
\f0\b Prac 7
\f1\b0 \
\pard\pardeftab720\sa213\qc\partightenfactor0

\f2\b\fs37\fsmilli18667 \cf0 Aim:- Inter-VLAN Routing.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0
\cf0 {{\NeXTGraphic Attachment.png \width320 \height320 \appleattachmentpadding0 \appleembedtype0 \appleaqc
}¬}\pard\pardeftab720\sa213\partightenfactor0
\cf0 \'a0\
\pard\pardeftab720\sa213\partightenfactor0

\fs32 \cf0 pc1> ip 192.168.1.1/24
\fs29\fsmilli14667 \

\fs32 PC2> ip 192.168.1.2/24
\fs29\fsmilli14667 \

\fs32 PC3> ip 192.168.2.1
\fs29\fsmilli14667 \

\fs32 PC4> ip 192.168.2.2/24
\fs29\fsmilli14667 \

\fs32 ESW1#vlan database
\fs29\fsmilli14667 \

\fs32 ESW1(vlan)#vlan 10
\fs29\fsmilli14667 \

\fs32 ESW1(vlan)#vlan 20
\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f0\b\fs32 \cf0 ESW1#
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\fs32 \cf0 conf t
\fs29\fsmilli14667 \

\fs32 interface f1/0
\fs29\fsmilli14667 \

\fs32 switchport mode access
\fs29\fsmilli14667 \

\fs32 switchport access vlan 10
\fs29\fsmilli14667 \

\fs32 exit
\fs29\fsmilli14667 \

\fs32 interface f1/1
\fs29\fsmilli14667 \

\fs32 switchport mode access
\fs29\fsmilli14667 \

\fs32 switchport access vlan 10
\fs29\fsmilli14667 \

\fs32 exit
\fs29\fsmilli14667 \

\fs32 interface f1/2
\fs29\fsmilli14667 \

\fs32 switchport mode access
\fs29\fsmilli14667 \

\fs32 switchport access vlan 10
\fs29\fsmilli14667 \

\fs32 exit
\fs29\fsmilli14667 \

\fs32 interface f1/3
\fs29\fsmilli14667 \

\fs32 switchport mode access
\fs29\fsmilli14667 \

\fs32 switchport access vlan 10
\fs29\fsmilli14667 \

\fs32 exit
\fs29\fsmilli14667 \

\fs32 ESW1#show vlan-switch
\fs29\fsmilli14667 \

\fs32 PC1> ping 192.168.1.2
\fs29\fsmilli14667 \

\fs32 PC1> ping 192.168.2.1
\fs29\fsmilli14667 \

\fs32 PC1> show ip
\fs29\fsmilli14667 \

\fs32 PC1> ip 192.168.1.1/24 192.168.1.254
\fs29\fsmilli14667 \

\fs32 PC1> show ip
\fs29\fsmilli14667 \

\fs32 PC2> ip 192.168.1.2/24 192.168.1.254
\fs29\fsmilli14667 \

\fs32 PC2> show ip
\fs29\fsmilli14667 \

\fs32 PC3> ip 192.168.2.1/24 192.168.2.254
\fs29\fsmilli14667 \

\fs32 PC3> show ip
\fs29\fsmilli14667 \

\fs32 PC4> ip 192.168.2.2/24 192.168.2.254
\fs29\fsmilli14667 \

\fs32 PC4> show ip
\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f0\b\fs32 \cf0 ESW1#
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\fs32 \cf0 conf t
\fs29\fsmilli14667 \

\fs32 interface vlan 10
\fs29\fsmilli14667 \

\fs32 ip address 192.168.1.254 255.255.255.0
\fs29\fsmilli14667 \

\fs32 no shut
\fs29\fsmilli14667 \

\fs32 exit
\fs29\fsmilli14667 \

\fs32 interface vlan 20
\fs29\fsmilli14667 \

\fs32 ip address 192.168.2.254 255.255.255.0
\fs29\fsmilli14667 \

\fs32 no shut
\fs29\fsmilli14667 \

\fs32 exit
\fs29\fsmilli14667 \

\fs32 ESW1#conf t
\fs29\fsmilli14667 \

\fs32 ESW1(config)#ip routing
\fs29\fsmilli14667 \

\fs32 ESW1(config)#end
\fs29\fsmilli14667 \

\fs32 Show ip route
\fs29\fsmilli14667 \

\fs32 pc1>ping 192.168.2.1
\fs29\fsmilli14667 \

\fs32 pc1>ping 192.168.2.2
\fs29\fsmilli14667 \

\fs32 pc4>ping 192.168.1.1
\fs29\fsmilli14667 \

\fs32 pc4>ping 192.168.1.2
\fs29\fsmilli14667 \
\'a0\
\pard\pardeftab720\sa213\partightenfactor0

\f0\b \cf0 \'a0Prac 8
\f1\b0 \
\pard\pardeftab720\sa213\qc\partightenfactor0

\f2\b\fs37\fsmilli18667 \cf0 Aim:- Simulating MPLS
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0
\cf0 {{\NeXTGraphic Attachment.png \width320 \height320 \appleattachmentpadding0 \appleembedtype0 \appleaqc
}¬}\pard\pardeftab720\sa213\partightenfactor0
\cf0 \'a0\
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 1.1.1.1 255.255.255.255
\f1\fs29\fsmilli14667 \

\f3\fs32 ip ospf 1 area 0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.0.0.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 ip ospf 1 area
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 2.2.2.2 255.255.255.255
\f1\fs29\fsmilli14667 \

\f3\fs32 ip ospf 1 area 0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.0.0.2 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 ip ospf 1 area 0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.0.1.2 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 ip ospf 1 area 0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 3.3.3.3 255.255.255.255
\f1\fs29\fsmilli14667 \

\f3\fs32 ip ospf 1 area 0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.0.1.3 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 ip ospf 1 area 0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ping 3.3.3.3 source Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 router ospf 1
\f1\fs29\fsmilli14667 \

\f3\fs32 mpls ldp autoconfig
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router ospf 1
\f1\fs29\fsmilli14667 \

\f3\fs32 mpls ldp autoconfig
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router ospf 1
\f1\fs29\fsmilli14667 \

\f3\fs32 mpls ldp autoconfig
\f1\fs29\fsmilli14667 \

\f3\fs32 show mpls interface
\f1\fs29\fsmilli14667 \

\f3\fs32 show mpls ldp neighbor
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 trace 3.3.3.3
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 3.3.3.3 remote-as 1
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 3.3.3.3 update-source Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto-summary
\f1\fs29\fsmilli14667 \

\f3\fs32 address-family vpnv4
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 3.3.3.3 activate
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 1.1.1.1 remote-as 1
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 1.1.1.1 update-source Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto-summary
\f1\fs29\fsmilli14667 \

\f3\fs32 address-family vpnv4
\f1\fs29\fsmilli14667 \

\f3\fs32 neighbor 1.1.1.1 activate
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show bgp vpnv4 unicast all summary
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R4 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 4.4.4.4 255.255.255.255
\f1\fs29\fsmilli14667 \

\f3\fs32 ip ospf 2 area 2
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.1.4 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip ospf 2 area 2
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.1.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip vrf RED
\f1\fs29\fsmilli14667 \

\f3\fs32 rd 4:4
\f1\fs29\fsmilli14667 \

\f3\fs32 route-target both 4:4
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip vrf forwarding RED
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.1.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 show run interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip route
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip route vrf RED
\f1\fs29\fsmilli14667 \

\f3\fs32 int f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip ospf 2 area 2
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip route vrf RED
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R5 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 5.5.5.5 255.255.255.255
\f1\fs29\fsmilli14667 \

\f3\fs32 ip ospf 2 area 2
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.2.5 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip ospf 2 area 2
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.2.3 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 ip vrf RED
\f1\fs29\fsmilli14667 \

\f3\fs32 rd 4:4
\f1\fs29\fsmilli14667 \

\f3\fs32 route-target both 4:4
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip vrf forwarding RED
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 192.168.2.3 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 show run interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip ospf 2 area 2
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip route vrf RED
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R4 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip route vrf RED
\f1\fs29\fsmilli14667 \

\f3\fs32 router bgp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 address-family ipv4 vrf RED
\f1\fs29\fsmilli14667 \

\f3\fs32 redistribute ospf 2
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router bgp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 address-family ipv4 vrf RED
\f1\fs29\fsmilli14667 \

\f3\fs32 redistribute ospf 2
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip bgp vpnv4 vrf RED
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip bgp vpnv4 vrf RED
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router ospf 2
\f1\fs29\fsmilli14667 \

\f3\fs32 redistribute bgp 1 subnets
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router ospf 2
\f1\fs29\fsmilli14667 \

\f3\fs32 redistribute bgp 1 subnets
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R4 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R5 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R4 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ping 5.5.5.5
\f1\fs29\fsmilli14667 \

\f3\fs32 trace 5.5.5.5
\f1\fs29\fsmilli14667 \
\'a0\
\pard\pardeftab720\sa213\partightenfactor0

\f0\b \cf0 \'a0Prac 9
\f1\b0 \
\pard\pardeftab720\sa213\qc\partightenfactor0

\f2\b\fs37\fsmilli18667 \cf0 Aim:- Simulating Virtual Routing and Forwarding (VRF)
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0
\cf0 {{\NeXTGraphic Attachment.png \width320 \height320 \appleattachmentpadding0 \appleembedtype0 \appleaqc
}¬}\pard\pardeftab720\sa213\partightenfactor0
\cf0 \'a0\
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 1:- Prepare the routers for the lab.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Step 1:- Prepare the routers for the lab.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 Cable the network as shown in the topology diagram. Erase the startup configuration and reload each router to clear previous configurations.
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 2:- Configure Virtual Routing and Forwarding.
\f1\b0\fs29\fsmilli14667 \

\f2\b\fs32 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip vrf cust-A
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 ip vrf cust-B
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Step 3:- Configure interface addresses.
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface f0/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip vrf forwarding cust-A
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.10.10.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip vrf forwarding cust-A
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.12.12.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip vrf forwarding cust-B
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.10.10.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip vrf forwarding cust-B
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.12.12.1 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 ip vrf cust-A
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 ip vrf cust-B
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip vrf forwarding cust-A
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.20.20.2 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip vrf forwarding cust-A
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.12.12.2 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip vrf forwarding cust-B
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.20.20.2 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface S1/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip vrf forwarding cust-B
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.12.12.2 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.1.1.3 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.10.10.3 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 router eigrp 100
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto
\f1\fs29\fsmilli14667 \

\f3\fs32 net 10.0.0.0
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R4 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.2.2.4 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.20.20.4 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 router eigrp 100
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto
\f1\fs29\fsmilli14667 \

\f3\fs32 net 10.0.0.0
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R5 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.1.1.5 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.10.10.5 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 router eigrp 100
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto
\f1\fs29\fsmilli14667 \

\f3\fs32 net 10.0.0.0
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R6 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 interface Loopback0
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.2.2.6 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 interface f0/1
\f1\fs29\fsmilli14667 \

\f3\fs32 ip address 10.20.20.6 255.255.255.0
\f1\fs29\fsmilli14667 \

\f3\fs32 no shutdown
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 router eigrp 100
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto
\f1\fs29\fsmilli14667 \

\f3\fs32 net 10.0.0.0
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router eigrp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 address-family ipv4 vrf cust-A
\f1\fs29\fsmilli14667 \

\f3\fs32 autonomous-system 100
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto
\f1\fs29\fsmilli14667 \

\f3\fs32 network 10.0.0.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 address-family ipv4 vrf cust-B
\f1\fs29\fsmilli14667 \

\f3\fs32 autonomous-system 100
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto
\f1\fs29\fsmilli14667 \

\f3\fs32 network 10.0.0.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R1 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 show ip route
\f1\fs29\fsmilli14667 \

\f3\fs32 Note:- Since we have configured virtual routing and forwarding it will not display the connections.
\f1\fs29\fsmilli14667 \

\f3\fs32 To check the routes we have to write the following command.
\f1\fs29\fsmilli14667 \

\f3\fs32 show ip route vrf cust-A
\f1\fs29\fsmilli14667 \

\f3\fs32 Note:- Now it will display all the connections.
\f1\fs29\fsmilli14667 \

\f3\fs32 ping vrf cust-A 10.1.1.3
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R2 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 router eigrp 1
\f1\fs29\fsmilli14667 \

\f3\fs32 address-family ipv4 vrf cust-A
\f1\fs29\fsmilli14667 \

\f3\fs32 autonomous-system 100
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto
\f1\fs29\fsmilli14667 \

\f3\fs32 network 10.0.0.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \

\f3\fs32 address-family ipv4 vrf cust-B
\f1\fs29\fsmilli14667 \

\f3\fs32 autonomous-system 100
\f1\fs29\fsmilli14667 \

\f3\fs32 no auto
\f1\fs29\fsmilli14667 \

\f3\fs32 network 10.0.0.0
\f1\fs29\fsmilli14667 \

\f3\fs32 exit
\f1\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f2\b\fs32 \cf0 Router R3 Console
\f1\b0\fs29\fsmilli14667 \
\pard\pardeftab720\sa213\partightenfactor0

\f3\fs32 \cf0 Since we have not configured virtual routing and forwarding on R3,R4,R5 and R6, to ping we simply have to write the following command.
\f1\fs29\fsmilli14667 \

\f3\fs32 ping 10.2.2.4
\f1\fs29\fsmilli14667 \
}